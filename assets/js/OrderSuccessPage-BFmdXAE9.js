import{r as e,j as s,B as r,C as t,A as i,h as a,aJ as n,aB as o,aK as d,T as l,N as c,al as x,aH as h,aI as m,m as j,H as b}from"./mui-CYltanDZ.js";import{u as y,a as p}from"./index-eKRakX8v.js";import{c as u,u as f}from"./router-Bir15TBb.js";import"./vendor-HnKmhvXM.js";import"./utils-CSgk65FE.js";const g=()=>{const{orderId:g}=u(),v=f(),{clearCart:S,clearCartFromServer:_}=y(),[W,w]=e.useState(null),[C,O]=e.useState(!0),[I,E]=e.useState(null);e.useEffect(()=>{g&&k()},[g]);const k=async()=>{try{O(!0),E(null);const e=await p.get(`/orders/${g}`);e.data.success?(w(e.data.order),S(),_()):E("Order not found")}catch(e){E(e.response?.data?.message||"Failed to load order details")}finally{O(!1)}};return C?s.jsx(r,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:s.jsx(t,{})}):I?s.jsxs(r,{sx:{width:"100%",maxWidth:800,mx:"auto",mt:4,px:{xs:2,sm:3}},children:[s.jsx(i,{severity:"error",sx:{mb:2},children:I}),s.jsx(a,{variant:"contained",onClick:()=>v("/"),startIcon:s.jsx(n,{}),children:"Back to Home"})]}):W?s.jsxs(r,{sx:{width:"100%",maxWidth:800,mx:"auto",mt:4,px:{xs:2,sm:3},pb:4},children:[s.jsxs(o,{sx:{p:4,textAlign:"center",mb:3},children:[s.jsx(d,{sx:{fontSize:64,color:"#4caf50",mb:2}}),s.jsx(l,{variant:"h4",sx:{fontWeight:600,mb:1,color:"#2e7d32"},children:"Order Confirmed!"}),s.jsx(l,{variant:"h6",sx:{color:"#666",mb:2},children:"Thank you for your purchase"}),s.jsx(l,{variant:"body1",sx:{color:"#888"},children:"Your order has been successfully placed and is being processed."})]}),s.jsxs(c,{container:!0,spacing:3,children:[s.jsx(c,{item:!0,xs:12,md:6,children:s.jsxs(o,{sx:{p:3,height:"fit-content"},children:[s.jsx(l,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Order Information"}),s.jsxs(r,{sx:{mb:2},children:[s.jsx(l,{variant:"body2",color:"text.secondary",children:"Order ID"}),s.jsxs(l,{variant:"body1",sx:{fontWeight:600},children:["#",W.order_id]})]}),s.jsxs(r,{sx:{mb:2},children:[s.jsx(l,{variant:"body2",color:"text.secondary",children:"Order Date"}),s.jsx(l,{variant:"body1",children:new Date(W.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),s.jsxs(r,{sx:{mb:2},children:[s.jsx(l,{variant:"body2",color:"text.secondary",children:"Payment Method"}),s.jsx(l,{variant:"body1",sx:{textTransform:"capitalize"},children:W.payment_method})]}),s.jsxs(r,{sx:{mb:2},children:[s.jsx(l,{variant:"body2",color:"text.secondary",children:"Payment Status"}),s.jsx(x,{label:W.payment_status,color:"paid"===W.payment_status?"success":"warning",size:"small",sx:{textTransform:"capitalize"}})]}),s.jsxs(r,{children:[s.jsx(l,{variant:"body2",color:"text.secondary",children:"Order Status"}),s.jsx(x,{label:W.order_status,color:"primary",size:"small",sx:{textTransform:"capitalize"}})]})]})}),s.jsx(c,{item:!0,xs:12,md:6,children:s.jsxs(o,{sx:{p:3,height:"fit-content"},children:[s.jsx(l,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Shipping Address"}),s.jsxs(l,{variant:"body1",sx:{fontWeight:600,mb:1},children:[W.customer_details.firstName," ",W.customer_details.lastName]}),s.jsx(l,{variant:"body2",sx:{mb:1},children:W.customer_details.address}),s.jsxs(l,{variant:"body2",sx:{mb:1},children:[W.customer_details.city,", ",W.customer_details.state," ",W.customer_details.pincode]}),s.jsx(l,{variant:"body2",sx:{mb:1},children:W.customer_details.country}),s.jsxs(l,{variant:"body2",sx:{mb:1},children:["Phone: ",W.customer_details.phone]}),s.jsxs(l,{variant:"body2",children:["Email: ",W.customer_details.email]})]})}),s.jsx(c,{item:!0,xs:12,children:s.jsxs(o,{sx:{p:3},children:[s.jsx(l,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Order Items"}),W.items.map((e,t)=>s.jsx(h,{sx:{mb:2,boxShadow:"none",border:"1px solid #eee"},children:s.jsx(m,{sx:{py:2,"&:last-child":{pb:2}},children:s.jsxs(r,{sx:{display:"flex",gap:2},children:[s.jsx(r,{component:"img",src:e.image||"",alt:e.name,sx:{width:60,height:60,objectFit:"cover",borderRadius:1,backgroundColor:"#f5f5f5",flexShrink:0},onError:e=>{e.target.style.display="none"}}),s.jsxs(r,{sx:{flex:1,minWidth:0},children:[s.jsx(l,{variant:"subtitle2",sx:{fontWeight:600,mb:.5},children:e.name}),s.jsxs(l,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:["Quantity: ",e.quantity]}),e.selected_variants&&Object.keys(e.selected_variants).length>0&&s.jsx(r,{sx:{mb:.5},children:Object.entries(e.selected_variants).map(([e,r])=>s.jsx(x,{label:`${e}: ${r}`,size:"small",sx:{mr:.5,mb:.5,fontSize:"0.7rem"}},e))}),s.jsxs(l,{variant:"body2",sx:{fontWeight:600},children:["₹",e.total_price?e.total_price.toLocaleString():(e.price*e.quantity).toLocaleString()]})]})]})})},t))]})}),s.jsx(c,{item:!0,xs:12,children:s.jsxs(o,{sx:{p:3},children:[s.jsx(l,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Order Summary"}),s.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[s.jsx(l,{children:"Subtotal:"}),s.jsxs(l,{children:["₹",W.order_summary.subtotal.toLocaleString()]})]}),s.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[s.jsx(l,{children:"Shipping:"}),s.jsx(l,{children:0===W.order_summary.shipping?"Free":`₹${W.order_summary.shipping.toLocaleString()}`})]}),s.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[s.jsx(l,{children:"Tax:"}),s.jsx(l,{sx:{fontStyle:"italic",color:"#6b7280"},children:"Included"})]}),s.jsx(j,{sx:{my:2}}),s.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[s.jsx(l,{variant:"h6",sx:{fontWeight:600},children:"Total:"}),s.jsxs(l,{variant:"h6",sx:{fontWeight:600},children:["₹",W.order_summary.total.toLocaleString()]})]})]})}),s.jsx(c,{item:!0,xs:12,children:s.jsxs(o,{sx:{p:3,bgcolor:"#f8f9fa"},children:[s.jsx(l,{variant:"h6",sx:{fontWeight:600,mb:2},children:"What's Next?"}),s.jsxs(r,{sx:{mb:2},children:[s.jsx(l,{variant:"body1",sx:{fontWeight:600,mb:1},children:"1. Order Confirmation Email"}),s.jsx(l,{variant:"body2",color:"text.secondary",children:"You will receive an order confirmation email shortly with all the details."})]}),s.jsxs(r,{sx:{mb:2},children:[s.jsx(l,{variant:"body1",sx:{fontWeight:600,mb:1},children:"2. Order Processing"}),s.jsx(l,{variant:"body2",color:"text.secondary",children:"We will process your order and prepare it for shipping within 24-48 hours."})]}),s.jsxs(r,{sx:{mb:2},children:[s.jsx(l,{variant:"body1",sx:{fontWeight:600,mb:1},children:"3. Shipping Updates"}),s.jsx(l,{variant:"body2",color:"text.secondary",children:"You will receive shipping updates via email and SMS once your order is dispatched."})]}),s.jsxs(r,{children:[s.jsx(l,{variant:"body1",sx:{fontWeight:600,mb:1},children:"4. Delivery"}),s.jsx(l,{variant:"body2",color:"text.secondary",children:"Your order will be delivered within 3-7 business days."})]})]})})]}),s.jsxs(r,{sx:{display:"flex",gap:2,mt:4,flexWrap:"wrap"},children:[s.jsx(a,{variant:"contained",onClick:()=>v("/"),startIcon:s.jsx(n,{}),sx:{bgcolor:"#E91E63",color:"white","&:hover":{bgcolor:"#C2185B"}},children:"Continue Shopping"}),s.jsx(a,{variant:"outlined",onClick:()=>v("/account"),startIcon:s.jsx(b,{}),sx:{borderColor:"#E91E63",color:"#E91E63","&:hover":{borderColor:"#C2185B",bgcolor:"#fce4ec"}},children:"View My Orders"})]}),s.jsx(i,{severity:"info",sx:{mt:3},children:s.jsxs(l,{variant:"body2",children:[s.jsx("strong",{children:"Need help?"})," Contact our customer support at"," ",s.jsx("strong",{children:"sardarfashions92@gmail.com"})," or call us at"," ",s.jsx("strong",{children:"+91 82997 41447"})]})})]}):null};export{g as default};
