import{r as s,j as e,B as r,C as t,A as i,h as a,aH as n,az as o,aI as d,T as l,N as c,al as x,aF as h,aG as m,m as j,H as b}from"./mui-B2Ut1MEh.js";import{u as p,a as y}from"./index-CZNcW6T6.js";import{c as u,u as f}from"./router-DlIYArQ-.js";import"./vendor-HnKmhvXM.js";import"./utils-BbBA5CLU.js";const g=()=>{const{orderId:g}=u(),v=f(),{clearCart:_,clearCartFromServer:S}=p(),[W,w]=s.useState(null),[C,O]=s.useState(!0),[I,E]=s.useState(null);s.useEffect(()=>{g&&z()},[g]);const z=async()=>{try{O(!0),E(null);const s=await y.get(`/orders/${g}`);s.data.success?(w(s.data.order),_(),S()):E("Order not found")}catch(s){E(s.response?.data?.message||"Failed to load order details")}finally{O(!1)}};return C?e.jsx(r,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:e.jsx(t,{})}):I?e.jsxs(r,{sx:{width:"100%",maxWidth:800,mx:"auto",mt:4,px:{xs:2,sm:3}},children:[e.jsx(i,{severity:"error",sx:{mb:2},children:I}),e.jsx(a,{variant:"contained",onClick:()=>v("/"),startIcon:e.jsx(n,{}),children:"Back to Home"})]}):W?e.jsxs(r,{sx:{width:"100%",maxWidth:800,mx:"auto",mt:4,px:{xs:2,sm:3},pb:4},children:[e.jsxs(o,{sx:{p:4,textAlign:"center",mb:3},children:[e.jsx(d,{sx:{fontSize:64,color:"#4caf50",mb:2}}),e.jsx(l,{variant:"h4",sx:{fontWeight:600,mb:1,color:"#2e7d32"},children:"Order Confirmed!"}),e.jsx(l,{variant:"h6",sx:{color:"#666",mb:2},children:"Thank you for your purchase"}),e.jsx(l,{variant:"body1",sx:{color:"#888"},children:"Your order has been successfully placed and is being processed."})]}),e.jsxs(c,{container:!0,spacing:3,children:[e.jsx(c,{item:!0,xs:12,md:6,children:e.jsxs(o,{sx:{p:3,height:"fit-content"},children:[e.jsx(l,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Order Information"}),e.jsxs(r,{sx:{mb:2},children:[e.jsx(l,{variant:"body2",color:"text.secondary",children:"Order ID"}),e.jsxs(l,{variant:"body1",sx:{fontWeight:600},children:["#",W.order_id]})]}),e.jsxs(r,{sx:{mb:2},children:[e.jsx(l,{variant:"body2",color:"text.secondary",children:"Order Date"}),e.jsx(l,{variant:"body1",children:new Date(W.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs(r,{sx:{mb:2},children:[e.jsx(l,{variant:"body2",color:"text.secondary",children:"Payment Method"}),e.jsx(l,{variant:"body1",sx:{textTransform:"capitalize"},children:W.payment_method})]}),e.jsxs(r,{sx:{mb:2},children:[e.jsx(l,{variant:"body2",color:"text.secondary",children:"Payment Status"}),e.jsx(x,{label:W.payment_status,color:"paid"===W.payment_status?"success":"warning",size:"small",sx:{textTransform:"capitalize"}})]}),e.jsxs(r,{children:[e.jsx(l,{variant:"body2",color:"text.secondary",children:"Order Status"}),e.jsx(x,{label:W.order_status,color:"primary",size:"small",sx:{textTransform:"capitalize"}})]})]})}),e.jsx(c,{item:!0,xs:12,md:6,children:e.jsxs(o,{sx:{p:3,height:"fit-content"},children:[e.jsx(l,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Shipping Address"}),e.jsxs(l,{variant:"body1",sx:{fontWeight:600,mb:1},children:[W.customer_details.firstName," ",W.customer_details.lastName]}),e.jsx(l,{variant:"body2",sx:{mb:1},children:W.customer_details.address}),e.jsxs(l,{variant:"body2",sx:{mb:1},children:[W.customer_details.city,", ",W.customer_details.state," ",W.customer_details.pincode]}),e.jsx(l,{variant:"body2",sx:{mb:1},children:W.customer_details.country}),e.jsxs(l,{variant:"body2",sx:{mb:1},children:["Phone: ",W.customer_details.phone]}),e.jsxs(l,{variant:"body2",children:["Email: ",W.customer_details.email]})]})}),e.jsx(c,{item:!0,xs:12,children:e.jsxs(o,{sx:{p:3},children:[e.jsx(l,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Order Items"}),W.items.map((s,t)=>e.jsx(h,{sx:{mb:2,boxShadow:"none",border:"1px solid #eee"},children:e.jsx(m,{sx:{py:2,"&:last-child":{pb:2}},children:e.jsxs(r,{sx:{display:"flex",gap:2},children:[e.jsx(r,{component:"img",src:s.image||`https://sardarfashions.mycartly.in/uploads/products/1532365/${s.product_id}_v1.png`,alt:s.name,sx:{width:60,height:60,objectFit:"cover",borderRadius:1,backgroundColor:"#f5f5f5",flexShrink:0},onError:e=>{e.target.src.includes("_v1.png")?e.target.style.display="none":e.target.src=`https://sardarfashions.mycartly.in/uploads/products/1532365/${s.product_id}_v1.png`}}),e.jsxs(r,{sx:{flex:1,minWidth:0},children:[e.jsx(l,{variant:"subtitle2",sx:{fontWeight:600,mb:.5},children:s.name}),e.jsxs(l,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:["Quantity: ",s.quantity]}),s.selected_variants&&Object.keys(s.selected_variants).length>0&&e.jsx(r,{sx:{mb:.5},children:Object.entries(s.selected_variants).map(([s,r])=>e.jsx(x,{label:`${s}: ${r}`,size:"small",sx:{mr:.5,mb:.5,fontSize:"0.7rem"}},s))}),e.jsxs(l,{variant:"body2",sx:{fontWeight:600},children:["₹",s.total_price?s.total_price.toLocaleString():(s.price*s.quantity).toLocaleString()]})]})]})})},t))]})}),e.jsx(c,{item:!0,xs:12,children:e.jsxs(o,{sx:{p:3},children:[e.jsx(l,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Order Summary"}),e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsx(l,{children:"Subtotal:"}),e.jsxs(l,{children:["₹",W.order_summary.subtotal.toLocaleString()]})]}),e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsx(l,{children:"Shipping:"}),e.jsx(l,{children:0===W.order_summary.shipping?"Free":`₹${W.order_summary.shipping.toLocaleString()}`})]}),e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsx(l,{children:"Tax:"}),e.jsx(l,{sx:{fontStyle:"italic",color:"#6b7280"},children:"Included"})]}),e.jsx(j,{sx:{my:2}}),e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsx(l,{variant:"h6",sx:{fontWeight:600},children:"Total:"}),e.jsxs(l,{variant:"h6",sx:{fontWeight:600},children:["₹",W.order_summary.total.toLocaleString()]})]})]})}),e.jsx(c,{item:!0,xs:12,children:e.jsxs(o,{sx:{p:3,bgcolor:"#f8f9fa"},children:[e.jsx(l,{variant:"h6",sx:{fontWeight:600,mb:2},children:"What's Next?"}),e.jsxs(r,{sx:{mb:2},children:[e.jsx(l,{variant:"body1",sx:{fontWeight:600,mb:1},children:"1. Order Confirmation Email"}),e.jsx(l,{variant:"body2",color:"text.secondary",children:"You will receive an order confirmation email shortly with all the details."})]}),e.jsxs(r,{sx:{mb:2},children:[e.jsx(l,{variant:"body1",sx:{fontWeight:600,mb:1},children:"2. Order Processing"}),e.jsx(l,{variant:"body2",color:"text.secondary",children:"We will process your order and prepare it for shipping within 24-48 hours."})]}),e.jsxs(r,{sx:{mb:2},children:[e.jsx(l,{variant:"body1",sx:{fontWeight:600,mb:1},children:"3. Shipping Updates"}),e.jsx(l,{variant:"body2",color:"text.secondary",children:"You will receive shipping updates via email and SMS once your order is dispatched."})]}),e.jsxs(r,{children:[e.jsx(l,{variant:"body1",sx:{fontWeight:600,mb:1},children:"4. Delivery"}),e.jsx(l,{variant:"body2",color:"text.secondary",children:"Your order will be delivered within 3-7 business days."})]})]})})]}),e.jsxs(r,{sx:{display:"flex",gap:2,mt:4,flexWrap:"wrap"},children:[e.jsx(a,{variant:"contained",onClick:()=>v("/"),startIcon:e.jsx(n,{}),sx:{bgcolor:"#E91E63",color:"white","&:hover":{bgcolor:"#C2185B"}},children:"Continue Shopping"}),e.jsx(a,{variant:"outlined",onClick:()=>v("/account"),startIcon:e.jsx(b,{}),sx:{borderColor:"#E91E63",color:"#E91E63","&:hover":{borderColor:"#C2185B",bgcolor:"#fce4ec"}},children:"View My Orders"})]}),e.jsx(i,{severity:"info",sx:{mt:3},children:e.jsxs(l,{variant:"body2",children:[e.jsx("strong",{children:"Need help?"})," Contact our customer support at"," ",e.jsx("strong",{children:"sardarfashions92@gmail.com"})," or call us at"," ",e.jsx("strong",{children:"+91 82997 41447"})]})})]}):null};export{g as default};
