import{r as s,u as e,a as r,j as t,aQ as i,B as a,C as n,A as o,T as l,aB as d,H as x,$ as c,aR as m,aS as h,aT as f,aU as j,aV as p,aW as u,v as y,al as g,p as b,h as _,a9 as v,aX as S,N as z,aH as w,aI as F,D as A,b as k,I as W,i as C,c as I,aY as D,aL as T,a6 as B,m as O,aM as P,aZ as $,aO as H,g as L,a_ as R,a$ as U,aK as N,aG as V,b0 as E,J as M,b1 as X,K as Y}from"./mui-CYltanDZ.js";import{a as K,s as Q}from"./index-B193kekq.js";import"./vendor-HnKmhvXM.js";import"./utils-CSgk65FE.js";import"./router-Bir15TBb.js";const q=()=>{const[q,G]=s.useState([]),[J,Z]=s.useState(!0),[ss,es]=s.useState(null),[rs,ts]=s.useState(null),[is,as]=s.useState(!1),[ns,os]=s.useState(!1),[ls,ds]=s.useState(null),[xs,cs]=s.useState(!1),[ms,hs]=s.useState(!1),fs=e(),js=r(fs.breakpoints.down("md"));s.useEffect(()=>{ps()},[]);const ps=async()=>{try{Z(!0),es(null);const s=await K.get("/customer/orders");s.data.success?G(s.data.orders||[]):es("Failed to fetch orders")}catch(s){es(s.response?.data?.message||s.response?.data?.error||"Failed to fetch orders")}finally{Z(!1)}},us=s=>{switch(s?.toLowerCase()){case"pending":return"warning";case"processing":return"info";case"shipped":return"primary";case"delivered":return"success";case"cancelled":return"error";default:return"default"}},ys=s=>{switch(s?.toLowerCase()){case"pending":return t.jsx(E,{});case"processing":default:return t.jsx(x,{});case"shipped":return t.jsx(V,{});case"delivered":return t.jsx(N,{});case"cancelled":return t.jsx(U,{})}},gs=s=>{switch(s?.toLowerCase()){case"razorpay":case"cod":default:return t.jsx(M,{});case"card":return t.jsx(Y,{});case"bank_transfer":return t.jsx(X,{})}},bs=s=>{if(!s||"N/A"===s)return"Cash on Delivery";switch(s?.toLowerCase()){case"razorpay":return"Razorpay";case"card":return"Credit/Debit Card";case"bank_transfer":return"Bank Transfer";case"cod":return"Cash on Delivery";default:return s.charAt(0).toUpperCase()+s.slice(1)}},_s=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",vs=s=>{if(s.image)return s.image;if(s.product_id){return`https://sardarfashions.mycartly.in/uploads/products/${Q}/${s.product_id}_v1.png`}return null},Ss=s=>{},zs=s=>{os(!0),ts(s),as(!0),setTimeout(()=>{os(!1)},300)},ws=()=>{as(!1),ts(null),os(!1)},Fs=async s=>{try{hs(!0),ds(null),ts(s),cs(!0);const e=await K.get(`/orders/${s.order_id}/track`);e.data.success?ds(e.data.tracking):es("Failed to fetch tracking information")}catch(e){es(e.response?.data?.error||"Failed to fetch tracking information")}finally{hs(!1)}},As=()=>{cs(!1),ds(null),ts(null)};return J?t.jsx(i,{maxWidth:"lg",sx:{py:4},children:t.jsx(a,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:t.jsx(n,{size:60})})}):ss?t.jsx(i,{maxWidth:"lg",sx:{py:4},children:t.jsx(o,{severity:"error",sx:{mb:3},children:ss})}):t.jsxs(i,{maxWidth:"lg",sx:{py:{xs:1,md:4},px:{xs:.5,sm:2}},children:[t.jsxs(a,{sx:{mb:{xs:1.5,md:4}},children:[t.jsx(l,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:600,fontSize:{xs:"1.2rem",sm:"1.5rem",md:"2rem"},fontFamily:"Arial, sans-serif"},children:"My Orders"}),t.jsx(l,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.8rem",md:"1rem"},fontFamily:"Arial, sans-serif"},children:"Track your order history and status"})]}),0===q.length?t.jsxs(d,{sx:{p:{xs:2,md:6},textAlign:"center",borderRadius:3},children:[t.jsx(x,{sx:{fontSize:{xs:50,md:80},color:"text.secondary",mb:{xs:1.5,md:3}}}),t.jsx(l,{variant:"h5",color:"text.secondary",gutterBottom:!0,sx:{fontSize:{xs:"1rem",md:"1.5rem"},fontFamily:"Arial, sans-serif"},children:"No Orders Yet"}),t.jsx(l,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.8rem",md:"1rem"},fontFamily:"Arial, sans-serif"},children:"You haven't placed any orders yet. Start shopping to see your order history here."})]}):t.jsxs(t.Fragment,{children:[t.jsx(a,{sx:{display:{xs:"none",md:"block"}},children:t.jsx(c,{in:!0,timeout:500,children:t.jsx(d,{sx:{borderRadius:3,overflow:"hidden"},children:t.jsx(m,{sx:{maxHeight:600,overflowX:"auto"},children:t.jsxs(h,{stickyHeader:!0,children:[t.jsx(f,{children:t.jsxs(j,{sx:{bgcolor:"grey.50"},children:[t.jsx(p,{sx:{fontWeight:600},children:"Order ID"}),t.jsx(p,{sx:{fontWeight:600},children:"Date"}),t.jsx(p,{sx:{fontWeight:600},children:"Items"}),t.jsx(p,{sx:{fontWeight:600},children:"Total"}),t.jsx(p,{sx:{fontWeight:600},children:"Status"}),t.jsx(p,{sx:{fontWeight:600},children:"Payment"}),t.jsx(p,{sx:{fontWeight:600},children:"Actions"})]})}),t.jsx(u,{children:q.map(s=>t.jsxs(j,{sx:{"&:hover":{bgcolor:"grey.50"},cursor:"pointer"},onClick:()=>zs(s),children:[t.jsx(p,{children:t.jsxs(l,{variant:"body2",sx:{fontWeight:500,fontFamily:"Arial, sans-serif",fontSize:"0.85rem"},children:["#",s.order_id]})}),t.jsx(p,{children:t.jsx(l,{variant:"body2",color:"text.secondary",sx:{fontFamily:"Arial, sans-serif",fontSize:"0.8rem"},children:_s(s.created_at)})}),t.jsx(p,{children:t.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsxs(l,{variant:"body2",children:[s.items_count," item",1!==s.items_count?"s":""]}),s.items?.slice(0,2).map((s,e)=>t.jsx(y,{src:vs(s),sx:{width:24,height:24},onError:Ss,children:t.jsx("img",{src:`https://sardarfashions.mycartly.in/uploads/products/${Q}/${s.product_id}_v1.png`,alt:"Product",style:{width:"100%",height:"100%",objectFit:"cover"}})},e)),s.items_count>2&&t.jsxs(l,{variant:"caption",color:"text.secondary",children:["+",s.items_count-2]})]})}),t.jsx(p,{children:t.jsxs(l,{variant:"body2",sx:{fontWeight:600,color:"#1976d2",fontFamily:"Arial, sans-serif",fontSize:"0.85rem"},children:["₹",s.total_amount?.toFixed(2)]})}),t.jsx(p,{children:t.jsx(g,{icon:ys(s.order_status),label:s.order_status,color:us(s.order_status),size:"small",sx:{fontWeight:500}})}),t.jsxs(p,{children:[t.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[gs(s.payment_method),t.jsx(l,{variant:"body2",sx:{fontSize:"0.75rem"},children:bs(s.payment_method)})]}),t.jsx(g,{label:s.payment_status,color:"completed"===s.payment_status?"success":"warning",size:"small",variant:"outlined",sx:{mt:.5}})]}),t.jsx(p,{children:t.jsxs(a,{sx:{display:"flex",gap:1},children:[t.jsx(b,{title:"View Details",children:t.jsx(_,{variant:"outlined",size:"small",startIcon:t.jsx(v,{}),onClick:e=>{e.stopPropagation(),zs(s)},children:"View"})}),(s.awb_code||s.tracking_url)&&t.jsx(b,{title:"Track Order",children:t.jsx(_,{variant:"contained",size:"small",startIcon:t.jsx(S,{}),onClick:e=>{e.stopPropagation(),Fs(s)},sx:{bgcolor:"#1976d2"},children:"Track"})})]})})]},s.order_id))})]})})})})}),t.jsx(a,{sx:{display:{xs:"block",md:"none"}},children:t.jsx(z,{container:!0,spacing:1,children:q.map(s=>t.jsx(z,{item:!0,xs:12,children:t.jsx(w,{sx:{borderRadius:1.5,cursor:"pointer","&:hover":{boxShadow:2},transition:"all 0.2s ease",mx:.5},onClick:()=>zs(s),children:t.jsxs(F,{sx:{p:1.5},children:[t.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1.5},children:[t.jsxs(a,{sx:{flex:1},children:[t.jsxs(l,{variant:"h6",sx:{fontWeight:600,fontSize:"0.9rem",fontFamily:"Arial, sans-serif",color:"#333"},children:["#",s.order_id]}),t.jsx(l,{variant:"body2",color:"text.secondary",sx:{mt:.5,fontSize:"0.75rem",fontFamily:"Arial, sans-serif"},children:_s(s.created_at)})]}),t.jsxs(a,{sx:{textAlign:"right",ml:1},children:[t.jsxs(l,{variant:"h6",sx:{fontWeight:600,fontSize:"0.9rem",fontFamily:"Arial, sans-serif",color:"#1976d2"},children:["₹",s.total_amount?.toFixed(2)]}),t.jsx(g,{icon:ys(s.order_status),label:s.order_status,color:us(s.order_status),size:"small",sx:{mt:.5,fontSize:"0.65rem",fontFamily:"Arial, sans-serif",height:"20px"}})]})]}),t.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:.5,mb:1.5,flexWrap:"wrap"},children:[t.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:.5},children:[gs(s.payment_method),t.jsx(l,{variant:"body2",sx:{fontSize:"0.7rem",fontFamily:"Arial, sans-serif",color:"#666"},children:bs(s.payment_method)})]}),t.jsx(g,{label:s.payment_status,color:"completed"===s.payment_status?"success":"warning",size:"small",variant:"outlined",sx:{fontSize:"0.65rem",fontFamily:"Arial, sans-serif",height:"18px"}})]}),t.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:.5,flexWrap:"wrap"},children:[t.jsxs(l,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.7rem",fontFamily:"Arial, sans-serif"},children:[s.items_count," item",1!==s.items_count?"s":""]}),t.jsxs(a,{sx:{display:"flex",gap:.3,flexWrap:"wrap"},children:[s.items?.slice(0,3).map((s,e)=>t.jsx(y,{src:vs(s),sx:{width:24,height:24,border:"1px solid #e0e0e0"},onError:Ss,children:t.jsx("img",{src:`https://sardarfashions.mycartly.in/uploads/products/${Q}/${s.product_id}_v1.png`,alt:"Product",style:{width:"100%",height:"100%",objectFit:"cover"}})},e)),s.items_count>3&&t.jsxs(l,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.65rem",fontFamily:"Arial, sans-serif"},children:["+",s.items_count-3]})]})]}),t.jsxs(a,{sx:{display:"flex",gap:1,mt:1.5,flexWrap:"wrap"},children:[t.jsx(_,{variant:"outlined",size:"small",startIcon:t.jsx(v,{}),onClick:e=>{e.stopPropagation(),zs(s)},sx:{fontSize:"0.7rem",px:1},children:"View"}),(s.awb_code||s.tracking_url)&&t.jsx(_,{variant:"contained",size:"small",startIcon:t.jsx(S,{}),onClick:e=>{e.stopPropagation(),Fs(s)},sx:{fontSize:"0.7rem",px:1,bgcolor:"#1976d2"},children:"Track"})]})]})})},s.order_id))})})]}),t.jsxs(A,{open:is,onClose:ws,maxWidth:"md",fullWidth:!0,fullScreen:js,sx:{"& .MuiDialog-paper":{margin:{xs:0,sm:2},width:{xs:"100%",sm:"auto"},maxWidth:{xs:"100%",sm:"600px"},maxHeight:{xs:"100%",sm:"90vh"}}},children:[t.jsx(k,{sx:{pb:1,px:{xs:2,md:3}},children:t.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(l,{variant:"h6",sx:{fontWeight:600,fontSize:{xs:"0.9rem",md:"1.1rem"},fontFamily:"Arial, sans-serif"},children:["Order #",rs?.order_id," Details"]}),t.jsx(W,{onClick:ws,size:"small",children:t.jsx(C,{})})]})}),t.jsx(I,{dividers:!0,sx:{p:0,overflowX:"hidden"},children:ns?t.jsx(a,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:t.jsx(n,{})}):rs&&t.jsxs(a,{sx:{p:{xs:1,md:2}},children:[t.jsxs(d,{sx:{p:{xs:2,md:3},mb:3,bgcolor:"grey.50"},children:[t.jsxs(a,{sx:{mb:{xs:2,md:3},textAlign:"center"},children:[t.jsxs(l,{variant:"h4",sx:{fontWeight:700,color:"#1976d2",mb:1,fontSize:{xs:"1.2rem",md:"1.5rem"},fontFamily:"Arial, sans-serif"},children:["Order #",rs.order_id]}),t.jsxs(l,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.8rem",md:"1rem"},fontFamily:"Arial, sans-serif"},children:["Placed on ",_s(rs.created_at)]})]}),t.jsxs(z,{container:!0,spacing:js?1.5:4,children:[t.jsxs(z,{item:!0,xs:12,md:6,children:[t.jsx(l,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,fontSize:{xs:"0.9rem",md:"1.1rem"},fontFamily:"Arial, sans-serif"},children:"Order Information"}),t.jsxs(D,{spacing:js?1.5:2,children:[t.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:{xs:.5,sm:0}},children:[t.jsx(l,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",md:"1rem"},fontFamily:"Arial, sans-serif"},children:"Order ID:"}),t.jsxs(l,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.75rem",md:"1rem"},fontFamily:"Arial, sans-serif",wordBreak:"break-all"},children:["#",rs.order_id]})]}),t.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:{xs:.5,sm:0}},children:[t.jsx(l,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",md:"1rem"},fontFamily:"Arial, sans-serif"},children:"Order Date:"}),t.jsx(l,{variant:"body1",sx:{fontSize:{xs:"0.75rem",md:"1rem"},fontFamily:"Arial, sans-serif"},children:_s(rs.created_at)})]}),t.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:{xs:.5,sm:0}},children:[t.jsx(l,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",md:"1rem"},fontFamily:"Arial, sans-serif"},children:"Status:"}),t.jsx(g,{icon:ys(rs.order_status),label:rs.order_status,color:us(rs.order_status),size:"medium",sx:{fontSize:{xs:"0.7rem",md:"0.8rem"},fontFamily:"Arial, sans-serif"}})]})]})]}),t.jsxs(z,{item:!0,xs:12,md:6,children:[t.jsx(l,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,fontSize:{xs:"0.9rem",md:"1.1rem"},fontFamily:"Arial, sans-serif"},children:"Payment Information"}),t.jsxs(D,{spacing:js?1.5:2,children:[t.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:{xs:.5,sm:0}},children:[t.jsx(l,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",md:"1rem"},fontFamily:"Arial, sans-serif"},children:"Total Amount:"}),t.jsxs(l,{variant:"h5",sx:{fontWeight:700,color:"#1976d2",fontSize:{xs:"1rem",md:"1.5rem"},fontFamily:"Arial, sans-serif"},children:["₹",rs.total_amount?.toFixed(2)]})]}),t.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:{xs:.5,sm:0}},children:[t.jsx(l,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",md:"1rem"},fontFamily:"Arial, sans-serif"},children:"Payment Method:"}),t.jsx(l,{variant:"body1",sx:{fontSize:{xs:"0.75rem",md:"1rem"},fontFamily:"Arial, sans-serif"},children:bs(rs.payment_method)})]}),t.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:{xs:.5,sm:0}},children:[t.jsx(l,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",md:"1rem"},fontFamily:"Arial, sans-serif"},children:"Payment Status:"}),t.jsx(g,{label:rs.payment_status,color:"completed"===rs.payment_status?"success":"warning",size:"medium",sx:{fontSize:{xs:"0.7rem",md:"0.8rem"},fontFamily:"Arial, sans-serif"}})]})]})]})]})]}),t.jsxs(d,{sx:{p:{xs:2,md:3},mb:3},children:[t.jsx(l,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,mb:{xs:1.5,md:2},fontSize:{xs:"0.9rem",md:"1.1rem"},fontFamily:"Arial, sans-serif"},children:"Shipping Address"}),t.jsx(l,{variant:"body1",sx:{lineHeight:1.6,fontSize:{xs:"0.75rem",md:"1rem"},fontFamily:"Arial, sans-serif"},children:(s=>{if(!s||"string"==typeof s)return s||"Address not available";const e=[];return s.full_name&&e.push(s.full_name),s.address_line1&&e.push(s.address_line1),s.address_line2&&e.push(s.address_line2),s.city&&e.push(s.city),s.state&&e.push(s.state),s.postal_code&&e.push(s.postal_code),s.country&&e.push(s.country),e.length>0?e.join(", "):"Address not available"})(rs.shipping_address)})]}),t.jsxs(d,{sx:{p:{xs:2,md:3}},children:[t.jsxs(l,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,fontSize:{xs:"0.9rem",md:"1.1rem"},fontFamily:"Arial, sans-serif"},children:["Order Items (",rs.items?.length||0,")"]}),t.jsx(T,{children:rs.items?.map((s,e)=>t.jsxs(B.Fragment,{children:[e>0&&t.jsx(O,{sx:{my:{xs:1.5,md:2}}}),t.jsxs(P,{sx:{px:0,py:{xs:1.5,md:3},flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"}},children:[t.jsx($,{sx:{mr:{xs:0,sm:2},mb:{xs:1,sm:0},alignSelf:{xs:"flex-start",sm:"center"}},children:t.jsx(y,{src:vs(s),sx:{width:{xs:50,md:80},height:{xs:50,md:80},borderRadius:2,border:"1px solid #e0e0e0"},variant:"rounded",onError:Ss,children:t.jsx("img",{src:`https://sardarfashions.mycartly.in/uploads/products/${Q}/${s.product_id}_v1.png`,alt:"Product",style:{width:"100%",height:"100%",objectFit:"cover"}})})}),t.jsx(H,{primary:t.jsxs(a,{sx:{mb:1,width:"100%"},children:[t.jsx(l,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"0.8rem",md:"1.1rem"},fontFamily:"Arial, sans-serif",wordBreak:"break-word"},children:s.name||s.product_name}),t.jsxs(l,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.65rem",md:"0.8rem"},fontFamily:"Arial, sans-serif"},children:["Product ID: ",s.product_id]})]}),secondary:t.jsxs(a,{sx:{mt:1,width:"100%"},children:[t.jsxs(l,{variant:"body1",sx:{fontWeight:500,mb:1,fontSize:{xs:"0.7rem",md:"1rem"},fontFamily:"Arial, sans-serif"},children:["Quantity: ",s.quantity," × ₹",s.price?.toFixed(2)||s.unit_price?.toFixed(2)]}),s.selected_variants&&Object.keys(s.selected_variants).length>0&&t.jsxs(a,{sx:{mb:1},children:[t.jsx(l,{variant:"body2",color:"text.secondary",sx:{fontWeight:500,fontSize:{xs:"0.65rem",md:"0.8rem"},fontFamily:"Arial, sans-serif"},children:"Selected Variants:"}),t.jsx(a,{sx:{display:"flex",flexWrap:"wrap",gap:{xs:.3,md:1},mt:.5},children:Object.entries(s.selected_variants).map(([s,e])=>t.jsx(g,{label:`${s}: ${e}`,size:"small",variant:"outlined",sx:{fontSize:{xs:"0.6rem",md:"0.75rem"},fontFamily:"Arial, sans-serif"}},s))})]})]})}),t.jsxs(a,{sx:{textAlign:{xs:"left",sm:"right"},ml:{xs:0,sm:2},mt:{xs:1,sm:0},width:{xs:"100%",sm:"auto"}},children:[t.jsxs(l,{variant:"h5",sx:{fontWeight:600,color:"#1976d2",fontSize:{xs:"0.8rem",md:"1.5rem"},fontFamily:"Arial, sans-serif"},children:["₹",s.subtotal?.toFixed(2)||s.total_price?.toFixed(2)]}),t.jsx(l,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.65rem",md:"0.8rem"},fontFamily:"Arial, sans-serif"},children:"Total"})]})]})]},e))})]})]})}),t.jsx(L,{sx:{p:3},children:t.jsx(_,{onClick:ws,variant:"contained",children:"Close"})})]}),t.jsxs(A,{open:xs,onClose:As,maxWidth:"md",fullWidth:!0,fullScreen:js,children:[t.jsx(k,{sx:{pb:1,px:{xs:2,md:3}},children:t.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(l,{variant:"h6",sx:{fontWeight:600,fontSize:{xs:"0.9rem",md:"1.1rem"},fontFamily:"Arial, sans-serif"},children:["Track Order #",rs?.order_id]}),t.jsx(W,{onClick:As,size:"small",children:t.jsx(C,{})})]})}),t.jsx(I,{dividers:!0,sx:{p:{xs:2,md:3}},children:ms?t.jsx(a,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:t.jsx(n,{})}):ls?t.jsxs(a,{children:[t.jsxs(d,{sx:{p:2,mb:2,bgcolor:"grey.50"},children:[t.jsx(l,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,mb:2},children:"Current Status"}),t.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(g,{icon:ys(ls.order_status||ls.current_status),label:ls.order_status||ls.current_status||"Unknown",color:us(ls.order_status||ls.current_status),size:"large"}),t.jsx(g,{label:ls.payment_status,color:"completed"===ls.payment_status?"success":"warning",size:"medium"})]})]}),ls.awb_code&&t.jsxs(d,{sx:{p:2,mb:2},children:[t.jsx(l,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,mb:2},children:"Tracking Information"}),t.jsxs(D,{spacing:2,children:[t.jsxs(a,{children:[t.jsx(l,{variant:"body2",color:"text.secondary",children:"AWB Code"}),t.jsx(l,{variant:"h6",sx:{fontWeight:600,fontFamily:"monospace"},children:ls.awb_code})]}),ls.tracking_url&&t.jsx(_,{variant:"contained",startIcon:t.jsx(R,{}),href:ls.tracking_url,target:"_blank",rel:"noopener noreferrer",sx:{width:"fit-content"},children:"Track on Shiprocket"})]})]}),ls.tracking_details?.tracking_data?.tracking_history&&t.jsxs(d,{sx:{p:2},children:[t.jsx(l,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,mb:2},children:"Tracking History"}),t.jsx(T,{children:ls.tracking_details.tracking_data.tracking_history.map((s,e)=>t.jsxs(B.Fragment,{children:[e>0&&t.jsx(O,{}),t.jsx(P,{children:t.jsx(H,{primary:s.status||s.location||"Update",secondary:s.date||s.timestamp||"N/A"})})]},e))})]}),!ls.has_tracking&&t.jsx(o,{severity:"info",children:"This order does not have tracking information available yet. Please check back later."})]}):t.jsx(o,{severity:"warning",children:"Unable to fetch tracking information for this order."})}),t.jsx(L,{sx:{p:2},children:t.jsx(_,{onClick:As,variant:"contained",children:"Close"})})]})]})};export{q as default};
